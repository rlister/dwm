diff --git a/dwm.c b/dwm.c
index 1e22def..de4883a 100644
--- a/dwm.c
+++ b/dwm.c
@@ -2008,8 +2008,8 @@ updatestatus(void)
 void
 updatetitle(Client *c)
 {
-	if (!gettextprop(c->win, netatom[NetWMName], c->name, sizeof c->name))
-		gettextprop(c->win, XA_WM_NAME, c->name, sizeof c->name);
+        /* rjl: use window class instead of name */
+        gettextprop(c->win, XA_WM_CLASS, c->name, sizeof c->name);
 	if (c->name[0] == '\0') /* hack to mark broken clients */
 		strcpy(c->name, broken);
 }
